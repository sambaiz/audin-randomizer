import streamlit as st
import random
from datetime import datetime

# å³¶ã®ãƒªã‚¹ãƒˆ
islands = [
    "ã‚¹ã‚«ã‚¤å³¶",  # 1äºº
    "ãƒ­ãƒ•ã‚©ãƒ¼ãƒ†ãƒ³",  # 1äºº
    "ãƒãƒ³å³¶", # 1äºº
    "ã‚·ã‚§ãƒƒãƒˆãƒ©ãƒ³ãƒ‰è«¸å³¶", # 1äºº
    "ãƒ•ã‚§ãƒ­ãƒ¼è«¸å³¶", # 1äºº
    "ãƒªãƒ ãƒªãƒƒã‚¯", # è£
    "ã‚ªãƒ¼ã‚¯ãƒ‹ãƒ¼", # è£
    "ã‚¢ã‚¤ã‚¹ãƒ©ãƒ³ãƒ‰",
    "ã‚°ãƒªãƒ¼ãƒ³ãƒ©ãƒ³ãƒ‰",
    "ã‚¢ã‚¦ã‚¿ãƒ¼ãƒ»ãƒ˜ãƒ–ãƒªãƒ‡ã‚£ãƒ¼ã‚º",
    "ã‚¢ã‚¤ãƒ©å³¶",
    "ãƒ“ãƒ¥ãƒ«ãƒã‚¤å³¶", # è£
    "ã‚¦ã‚§ãƒƒã‚¯ã‚¹ãƒ•ã‚©ãƒ¼ãƒ‰", # è£
    "ãƒ•ã‚¨ã‚´å³¶",
    "ãƒãƒ•ã‚£ãƒ³å³¶" # è£
]

# 1äººã®å³¶ã®ãƒªã‚¹ãƒˆ
single_person_islands = [
    "ã‚¹ã‚«ã‚¤å³¶",
    "ãƒ­ãƒ•ã‚©ãƒ¼ãƒ†ãƒ³",
    "ãƒãƒ³å³¶",
    "ã‚·ã‚§ãƒƒãƒˆãƒ©ãƒ³ãƒ‰è«¸å³¶",
    "ãƒ•ã‚§ãƒ­ãƒ¼è«¸å³¶"
]

# è£ã®å³¶ã®ãƒªã‚¹ãƒˆ
back_islands = [
    "ãƒªãƒ ãƒªãƒƒã‚¯",
    "ã‚ªãƒ¼ã‚¯ãƒ‹ãƒ¼",
    "ãƒ“ãƒ¥ãƒ«ãƒã‚¤å³¶",
    "ã‚¦ã‚§ãƒƒã‚¯ã‚¹ãƒ•ã‚©ãƒ¼ãƒ‰",
    "ãƒãƒ•ã‚£ãƒ³å³¶"
]

# è¡¨ã®å³¶ã®ãƒªã‚¹ãƒˆï¼ˆè£ã®å³¶ã¨ãƒ•ã‚¨ã‚´å³¶ã‚’é™¤ãï¼‰
front_islands = [island for island in islands if island not in back_islands and island != "ãƒ•ã‚¨ã‚´å³¶"]

# è¡¨ã®å³¶ã¨è£ã®å³¶ã®å¯¾å¿œé–¢ä¿‚
island_pairs = {
    "ã‚¹ã‚«ã‚¤å³¶": "ãƒªãƒ ãƒªãƒƒã‚¯",
    "ãƒ­ãƒ•ã‚©ãƒ¼ãƒ†ãƒ³": "ã‚ªãƒ¼ã‚¯ãƒ‹ãƒ¼",
    "ãƒãƒ³å³¶": "ã‚¢ã‚¤ã‚¹ãƒ©ãƒ³ãƒ‰",
    "ã‚·ã‚§ãƒƒãƒˆãƒ©ãƒ³ãƒ‰è«¸å³¶": "ãƒ“ãƒ¥ãƒ«ãƒã‚¤å³¶",
    "ãƒ•ã‚§ãƒ­ãƒ¼è«¸å³¶": "ãƒãƒ•ã‚£ãƒ³å³¶",
    "ã‚¢ã‚¤ãƒ©å³¶": "ã‚¦ã‚§ãƒƒã‚¯ã‚¹ãƒ•ã‚©ãƒ¼ãƒ‰",
    "ã‚¢ã‚¦ã‚¿ãƒ¼ãƒ»ãƒ˜ãƒ–ãƒªãƒ‡ã‚£ãƒ¼ã‚º": "ã‚³ãƒ¼ã‚¯",
    "ã‚¢ã‚¤ã‚¹ãƒ©ãƒ³ãƒ‰": "ãƒ©ãƒ–ãƒ©ãƒ‰ãƒ¼ãƒ«å³¶",
    "ã‚°ãƒªãƒ¼ãƒ³ãƒ©ãƒ³ãƒ‰": "ãƒ‹ãƒ¥ãƒ¼ãƒ•ã‚¡ãƒ³ãƒ‰ãƒ©ãƒ³ãƒ‰",
}

# ãƒšãƒ¼ã‚¸è¨­å®š
st.set_page_config(
    page_title="ã‚ªãƒ¼ãƒ‡ã‚£ãƒ³ã®ç¥ç¥­ã®å³¶ ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚¶",
    page_icon="ğŸï¸",
    layout="centered"
)

# ã‚¿ã‚¤ãƒˆãƒ«
st.title("ğŸï¸ ã‚ªãƒ¼ãƒ‡ã‚£ãƒ³ã®ç¥ç¥­ã®å³¶ ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚¶")
st.markdown("---")

# èª¬æ˜æ–‡
st.markdown("""
ã“ã®ã‚¢ãƒ—ãƒªã¯ã€ã‚ªãƒ¼ãƒ‡ã‚£ãƒ³ã®ç¥ç¥­ã®å³¶ã‹ã‚‰8ã¤ã®å³¶ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã³ã¾ã™ã€‚
- ãƒ•ã‚¨ã‚´å³¶ã¯å¿…ãšå«ã¾ã‚Œã¾ã™
- 1äººã®å³¶ï¼ˆã‚¹ã‚«ã‚¤å³¶ã€ãƒ­ãƒ•ã‚©ãƒ¼ãƒ†ãƒ³ã€ãƒãƒ³å³¶ã€ã‚·ã‚§ãƒƒãƒˆãƒ©ãƒ³ãƒ‰è«¸å³¶ã€ãƒ•ã‚§ãƒ­ãƒ¼è«¸å³¶ï¼‰ãŒå°‘ãªãã¨ã‚‚1ã¤å«ã¾ã‚Œã¾ã™
- è£ã®å³¶ã¯é¸ã°ã‚Œã¾ã›ã‚“ãŒã€å¯¾å¿œã™ã‚‹è£ã®å³¶ãŒã‚ã‚‹å ´åˆã¯è¡¨ç¤ºã•ã‚Œã¾ã™
- åŒã˜æ—¥ä»˜ã§ã‚ã‚Œã°ã€åŒã˜çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™
""")

# ç¾åœ¨ã®æ—¥ä»˜ã‚’å–å¾—
current_date = datetime.now().strftime("%Y-%m-%d")

# æ—¥ä»˜ã‚’ã‚·ãƒ¼ãƒ‰å€¤ã¨ã—ã¦ä½¿ç”¨
random.seed(current_date)

# 1äººã®å³¶ã‚’1ã¤ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠ
selected_single_island = random.choice(single_person_islands)

# æ®‹ã‚Šã®è¡¨ã®å³¶ã‹ã‚‰5ã¤ã‚’é¸æŠï¼ˆ1äººã®å³¶ã‚’é™¤ãï¼‰
remaining_front_islands = [island for island in front_islands if island != selected_single_island]
selected_remaining_islands = random.sample(remaining_front_islands, 5)

# çµæœã‚’çµ„ã¿åˆã‚ã›ã‚‹ï¼ˆåˆè¨ˆ8ã¤ã«ãªã‚‹ã‚ˆã†ã«ï¼‰
selected_islands = selected_remaining_islands + [selected_single_island, "ãƒ•ã‚¨ã‚´å³¶"]

# çµæœã‚’è¡¨ç¤º
st.markdown("### é¸ã°ã‚ŒãŸå³¶:")
st.markdown(f"*{current_date}ã®çµæœ*")

for i, island in enumerate(selected_islands, 1):
    if island in single_person_islands:
        if island in island_pairs:
            st.markdown(f"{i}. {island} (1äºº) - è£: {island_pairs[island]}")
        else:
            st.markdown(f"{i}. {island} (1äºº)")
    else:
        if island in island_pairs:
            st.markdown(f"{i}. {island} - è£: {island_pairs[island]}")
        else:
            st.markdown(f"{i}. {island}")

# ãƒ•ãƒƒã‚¿ãƒ¼
st.markdown("---")
st.markdown("Â© 2024 ã‚ªãƒ¼ãƒ‡ã‚£ãƒ³ã®ç¥ç¥­ã®å³¶ ãƒ©ãƒ³ãƒ€ãƒã‚¤ã‚¶")